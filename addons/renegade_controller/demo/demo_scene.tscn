[gd_scene format=3 uid="uid://sgw3fuxtc582"]

[ext_resource type="Script" uid="uid://b62axs1cohnn6" path="res://addons/renegade_controller/demo/demo_scene.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://b3uw4wuhb7dx7" path="res://addons/renegade_controller/presets/player.tscn" id="2"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/camera_system.tscn" id="3"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/side_scroller_zone.tscn" id="4"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/top_down_zone.tscn" id="5"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/first_person_zone.tscn" id="6"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/npc.tscn" id="7"]
[ext_resource type="Script" uid="uid://df4pcmicyts02" path="res://addons/renegade_controller/demo/demo_interactable.gd" id="8"]
[ext_resource type="Script" uid="uid://c26s0tyrrfy1t" path="res://addons/renegade_controller/demo/npc_patrol.gd" id="9"]
[ext_resource type="Script" uid="uid://cvmhovoyf4tm7" path="res://addons/renegade_controller/demo/debug_overlay.gd" id="10"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/world_pickup.tscn" id="11"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/pistol.tres" id="12"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/shotgun.tres" id="13"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/medkit.tres" id="14"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/kevlar_vest.tres" id="15"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/security_keycard.tres" id="16"]

[sub_resource type="ProceduralSkyMaterial" id="1"]
sky_top_color = Color(0.3, 0.5, 0.8, 1)
sky_horizon_color = Color(0.6, 0.7, 0.85, 1)
ground_bottom_color = Color(0.15, 0.12, 0.1, 1)
ground_horizon_color = Color(0.5, 0.45, 0.4, 1)

[sub_resource type="Sky" id="2"]
sky_material = SubResource("1")

[sub_resource type="Environment" id="3"]
background_mode = 2
sky = SubResource("2")
ambient_light_source = 3
ambient_light_energy = 0.4
tonemap_mode = 3
ssao_enabled = true

[sub_resource type="NavigationMesh" id="4"]
agent_height = 1.8
agent_radius = 0.4

[sub_resource type="StandardMaterial3D" id="5"]
albedo_color = Color(0.12, 0.1, 0.09, 1)

[sub_resource type="StandardMaterial3D" id="6"]
albedo_color = Color(0.12, 0.1, 0.09, 1)

[sub_resource type="StandardMaterial3D" id="7"]
albedo_color = Color(0.74, 0.21, 0, 1)

[sub_resource type="StandardMaterial3D" id="8"]
albedo_color = Color(0.15, 0.24, 0.23, 1)

[sub_resource type="StandardMaterial3D" id="9"]
albedo_color = Color(0.23, 0.17, 0.23, 1)

[sub_resource type="StandardMaterial3D" id="10"]
albedo_color = Color(0.5, 0.5, 0.4, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_5dq0v"]
size = Vector3(16, 5, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_8y21c"]
size = Vector3(10, 5, 12)

[sub_resource type="BoxShape3D" id="11"]
size = Vector3(1, 0.8, 0.7)

[sub_resource type="StandardMaterial3D" id="13"]
albedo_color = Color(0.7, 0.5, 0.2, 1)

[sub_resource type="BoxMesh" id="12"]
size = Vector3(1, 0.8, 0.7)

[sub_resource type="StyleBoxFlat" id="14"]
content_margin_left = 10.0
content_margin_top = 8.0
content_margin_right = 10.0
content_margin_bottom = 8.0
bg_color = Color(0, 0, 0, 0.6)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[node name="DemoScene" type="Node3D" unique_id=43422542]
script = ExtResource("1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1391113257]
environment = SubResource("3")

[node name="Sun" type="DirectionalLight3D" parent="." unique_id=800548187]
transform = Transform3D(0.866, -0.354, 0.354, 0, 0.707, 0.707, -0.5, -0.612, 0.612, 0, 10, 0)
light_color = Color(1, 0.95, 0.85, 1)
light_energy = 2.0
shadow_enabled = true

[node name="NavRegion" type="NavigationRegion3D" parent="." unique_id=2081890014]
navigation_mesh = SubResource("4")

[node name="Ground" type="CSGBox3D" parent="NavRegion" unique_id=1429176654]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
use_collision = true
size = Vector3(60, 1, 60)
material = SubResource("5")

[node name="WallNorth" type="CSGBox3D" parent="NavRegion" unique_id=1019649164]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -30)
use_collision = true
size = Vector3(60, 4, 1)
material = SubResource("6")

[node name="WallSouth" type="CSGBox3D" parent="NavRegion" unique_id=1746034985]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 30)
use_collision = true
size = Vector3(60, 4, 1)
material = SubResource("6")

[node name="WallEast" type="CSGBox3D" parent="NavRegion" unique_id=1334876684]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 2, 0)
use_collision = true
size = Vector3(1, 4, 60)
material = SubResource("6")

[node name="WallWest" type="CSGBox3D" parent="NavRegion" unique_id=2092058565]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 2, 0)
use_collision = true
size = Vector3(1, 4, 60)
material = SubResource("6")

[node name="Cover1" type="CSGBox3D" parent="NavRegion" unique_id=893546265]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0.75, -5)
use_collision = true
size = Vector3(3, 1.5, 1)
material = SubResource("7")

[node name="Cover2" type="CSGBox3D" parent="NavRegion" unique_id=1513251526]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.75, 3)
use_collision = true
size = Vector3(1, 1.5, 4)
material = SubResource("7")

[node name="Cover3" type="CSGBox3D" parent="NavRegion" unique_id=969335882]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 8)
use_collision = true
size = Vector3(2, 1, 2)
material = SubResource("7")

[node name="Ramp" type="CSGBox3D" parent="NavRegion" unique_id=2075776255]
transform = Transform3D(1, 0, 0, 0, 0.966, 0.259, 0, -0.259, 0.966, 10, 0.8, -10)
use_collision = true
size = Vector3(4, 0.3, 6)
material = SubResource("7")

[node name="Platform" type="CSGBox3D" parent="NavRegion" unique_id=1650752543]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 1, -14)
use_collision = true
size = Vector3(6, 2, 4)
material = SubResource("7")

[node name="CorridorWallN" type="CSGBox3D" parent="NavRegion" unique_id=1412086920]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 1.5, -17.75)
use_collision = true
size = Vector3(16, 3, 0.5)
material = SubResource("8")

[node name="CorridorWallS" type="CSGBox3D" parent="NavRegion" unique_id=780594501]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 1.5, -22.25)
use_collision = true
size = Vector3(16, 3, 0.5)
material = SubResource("8")

[node name="TDRoomWallW" type="CSGBox3D" parent="NavRegion" unique_id=27293507]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.75, 1.5, -20)
use_collision = true
size = Vector3(0.5, 3, 12)
material = SubResource("9")

[node name="TDRoomWallE" type="CSGBox3D" parent="NavRegion" unique_id=16038338]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.25, 1.5, -20)
use_collision = true
size = Vector3(0.5, 3, 12)
material = SubResource("9")

[node name="TDRoomWallN" type="CSGBox3D" parent="NavRegion" unique_id=1254837215]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22, 1.5, -26.25)
use_collision = true
size = Vector3(11, 3, 0.5)
material = SubResource("9")

[node name="TDRoomWallS1" type="CSGBox3D" parent="NavRegion" unique_id=1741032802]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.5, 1.5, -13.75)
use_collision = true
size = Vector3(4, 3, 0.5)
material = SubResource("9")

[node name="TDRoomWallS2" type="CSGBox3D" parent="NavRegion" unique_id=1516284732]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.5, 1.5, -13.75)
use_collision = true
size = Vector3(4, 3, 0.5)
material = SubResource("9")

[node name="FPRoomWallW" type="CSGBox3D" parent="NavRegion" unique_id=613314773]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -26.75, 1.5, 15)
use_collision = true
size = Vector3(0.5, 3, 8)
material = SubResource("10")

[node name="FPRoomWallE" type="CSGBox3D" parent="NavRegion" unique_id=2090042122]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.25, 1.5, 15)
use_collision = true
size = Vector3(0.5, 3, 8)
material = SubResource("10")

[node name="FPRoomWallN" type="CSGBox3D" parent="NavRegion" unique_id=1698965043]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23, 1.5, 10.75)
use_collision = true
size = Vector3(8, 3, 0.5)
material = SubResource("10")

[node name="FPRoomWallS1" type="CSGBox3D" parent="NavRegion" unique_id=1388611116]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.25, 1.5, 19.25)
use_collision = true
size = Vector3(2.5, 3, 0.5)
material = SubResource("10")

[node name="FPRoomWallS2" type="CSGBox3D" parent="NavRegion" unique_id=1510068621]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.75, 1.5, 19.25)
use_collision = true
size = Vector3(2.5, 3, 0.5)
material = SubResource("10")

[node name="Player" parent="." unique_id=1004271132 instance=ExtResource("2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 5)

[node name="CameraSystem" parent="." unique_id=1562357881 instance=ExtResource("3")]

[node name="ThirdPersonCamera" parent="CameraSystem" index="0" node_paths=PackedStringArray("look_at_target")]
transform = Transform3D(0.96592575, 0.045557234, 0.25477818, -0.14387862, 0.91278386, 0.38226253, -0.21514258, -0.40589437, 0.8882362, -0.46279624, 2.8290524, 7.6785307)
look_at_target = NodePath("../../Player/Mesh/Head")

[node name="SideScrollerZone" parent="." unique_id=1924114065 node_paths=PackedStringArray("camera_marker") instance=ExtResource("4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0, -20)
collision_layer = 0
zone_priority = 1
zone_size = Vector3(16, 5, 5)
camera_marker = NodePath("Camera")

[node name="Camera_volume" parent="SideScrollerZone" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
shape = SubResource("BoxShape3D_5dq0v")

[node name="Camera" parent="SideScrollerZone" index="1"]
transform = Transform3D(1.2730672e-07, -0.23983836, 0.97081286, 3.1451002e-08, 0.97081286, 0.23983836, -1, 0, 1.3113416e-07, 10.422567, 2, 0)

[node name="TopDownZone" parent="." unique_id=1642621498 node_paths=PackedStringArray("camera_marker") instance=ExtResource("5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22, 0, -20)
collision_layer = 0
zone_priority = 1
zone_size = Vector3(10, 5, 12)
camera_marker = NodePath("Camera")

[node name="Camera_volume" parent="TopDownZone" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, 0)
shape = SubResource("BoxShape3D_8y21c")

[node name="Camera" parent="TopDownZone" index="1"]
transform = Transform3D(-4.371139e-08, -0.70710677, 0.70710677, 0, 0.70710677, 0.70710677, -1, 3.090862e-08, -3.090862e-08, 8.1798115, 10.451593, 0.5627785)

[node name="FirstPersonZone" parent="." unique_id=938536592 instance=ExtResource("6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23, 0, 15)
collision_layer = 0
zone_priority = 2
zone_size = Vector3(7, 5, 8)

[node name="PatrolNPC" parent="." unique_id=728365141 instance=ExtResource("7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0.1, -5)

[node name="PatrolBehavior" type="Node" parent="PatrolNPC" unique_id=1743759798]
script = ExtResource("9")

[node name="Chest" type="StaticBody3D" parent="." unique_id=1794027331 groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0.4, 0)
script = ExtResource("8")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Chest" unique_id=1911511974]
shape = SubResource("11")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Chest" unique_id=1218561323]
material_override = SubResource("13")
mesh = SubResource("12")

[node name="Label3D" type="Label3D" parent="Chest" unique_id=431662279]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
billboard = 1
modulate = Color(1, 1, 1, 0.8)
text = "Chest"
font_size = 24
outline_size = 8

[node name="Pickups" type="Node3D" parent="." unique_id=744942026]

[node name="Pistol" parent="Pickups" unique_id=1159984920 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0.5, 0)
item = ExtResource("12")

[node name="Shotgun" parent="Pickups" unique_id=990961750 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0.5, -3)
item = ExtResource("13")

[node name="Medkit" parent="Pickups" unique_id=893851889 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0.5, 3)
item = ExtResource("14")
quantity = 2

[node name="KevlarVest" parent="Pickups" unique_id=1618478495 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0.5, 5)
item = ExtResource("15")

[node name="SecurityKeycard" parent="Pickups" unique_id=883434535 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -5)
item = ExtResource("16")

[node name="DebugOverlay" type="CanvasLayer" parent="." unique_id=1861926931]
layer = 100
script = ExtResource("10")

[node name="InstructionsLayer" type="CanvasLayer" parent="." unique_id=1549306656]
layer = 99

[node name="Instructions" type="RichTextLabel" parent="InstructionsLayer" unique_id=1351334247]
custom_minimum_size = Vector2(280, 0)
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -300.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = 400.0
grow_horizontal = 0
theme_override_font_sizes/normal_font_size = 13
theme_override_styles/normal = SubResource("14")
bbcode_enabled = true
text = "[b][color=yellow]CONTROLS[/color][/b]
[color=white]WASD[/color] — Move
[color=white]Space[/color] — Jump
[color=white]Shift[/color] — Sprint
[color=white]RMB Hold[/color] — Aim / Strafe
[color=white]LMB[/color] — Interact / Move-to
[color=white]F3[/color] — Toggle debug overlay
[color=white]Scroll[/color] — Zoom in/out

[b][color=yellow]TEST AREAS[/color][/b]
[color=cyan]Cyan[/color] — Side Scroller Zone
[color=magenta]Magenta[/color] — Top Down Zone
[color=yellow]Yellow[/color] — First Person Zone

[b][color=yellow]FEATURES[/color][/b]
• Walk into colored zones for camera transitions
• Click interactables (colored objects)
• Click ground to test move-to
• Hold RMB + move to strafe-aim
• [color=orange]Orange NPC[/color] patrols on its own
• Camera shake on landing from jumps
• Camera shifts when aiming (RMB)"
fit_content = true

[editable path="Player"]
[editable path="CameraSystem"]
[editable path="SideScrollerZone"]
[editable path="TopDownZone"]
