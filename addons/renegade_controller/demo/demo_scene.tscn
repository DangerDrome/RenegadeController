[gd_scene format=3 uid="uid://sgw3fuxtc582"]

[ext_resource type="Script" uid="uid://b62axs1cohnn6" path="res://addons/renegade_controller/demo/demo_scene.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://b3uw4wuhb7dx7" path="res://addons/renegade_controller/presets/player.tscn" id="2"]
[ext_resource type="Texture2D" uid="uid://d4ncyx8m7c2tc" path="res://addons/renegade_controller/textures/dark/texture_02.png" id="2_8y21c"]
[ext_resource type="Texture2D" uid="uid://bgvsnqccjra7a" path="res://addons/renegade_controller/textures/dark/texture_06.png" id="2_ms7ms"]
[ext_resource type="PackedScene" uid="uid://cpo2fvv3xhi2y" path="res://addons/renegade_controller/presets/camera_system.tscn" id="3"]
[ext_resource type="PackedScene" uid="uid://cv4rr32ktg54f" path="res://addons/renegade_controller/presets/side_scroller_zone.tscn" id="4"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/top_down_zone.tscn" id="5"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/first_person_zone.tscn" id="6"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/npc.tscn" id="7"]
[ext_resource type="Script" uid="uid://df4pcmicyts02" path="res://addons/renegade_controller/demo/demo_interactable.gd" id="8"]
[ext_resource type="Script" uid="uid://c26s0tyrrfy1t" path="res://addons/renegade_controller/demo/npc_patrol.gd" id="9"]
[ext_resource type="Script" uid="uid://cvmhovoyf4tm7" path="res://addons/renegade_controller/demo/debug_overlay.gd" id="10"]
[ext_resource type="PackedScene" path="res://addons/renegade_controller/presets/world_pickup.tscn" id="11"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/pistol.tres" id="12"]
[ext_resource type="Resource" uid="uid://csbyhpf0pviyj" path="res://addons/renegade_controller/presets/items/shotgun.tres" id="13"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/medkit.tres" id="14"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/kevlar_vest.tres" id="15"]
[ext_resource type="Resource" path="res://addons/renegade_controller/presets/items/security_keycard.tres" id="16"]

[sub_resource type="ProceduralSkyMaterial" id="1"]
sky_top_color = Color(0.3, 0.5, 0.8, 1)
sky_horizon_color = Color(0.6, 0.7, 0.85, 1)
ground_bottom_color = Color(0.15, 0.12, 0.1, 1)
ground_horizon_color = Color(0.5, 0.45, 0.4, 1)

[sub_resource type="Sky" id="2"]
sky_material = SubResource("1")

[sub_resource type="Environment" id="3"]
background_mode = 2
sky = SubResource("2")
ambient_light_source = 3
ambient_light_energy = 0.4
tonemap_mode = 3
ssao_enabled = true
glow_enabled = true
glow_intensity = 2.7
glow_hdr_threshold = 0.94
fog_enabled = true
fog_mode = 1
fog_light_color = Color(0, 0, 0, 1)
fog_density = 1.0
fog_depth_curve = 2.4622862
fog_depth_begin = 0.0
fog_depth_end = 500.0

[sub_resource type="CameraAttributesPhysical" id="CameraAttributesPhysical_0c8yo"]

[sub_resource type="NavigationMesh" id="4"]
agent_height = 1.8
agent_radius = 0.4

[sub_resource type="StandardMaterial3D" id="5"]
albedo_color = Color(0.40705585, 0.4070563, 0.40705615, 1)
albedo_texture = ExtResource("2_ms7ms")
uv1_scale = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="6"]
albedo_color = Color(0.8232552, 0.78384143, 0.7605013, 1)
albedo_texture = ExtResource("2_8y21c")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="7"]
albedo_color = Color(1, 0.45184767, 0.29403642, 1)
albedo_texture = ExtResource("2_ms7ms")
uv1_scale = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="8"]
albedo_color = Color(0.8414864, 0.9208956, 0.91236275, 1)
albedo_texture = ExtResource("2_ms7ms")
uv1_scale = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="9"]
albedo_color = Color(0.60284126, 0.48391074, 0.6022696, 1)
albedo_texture = ExtResource("2_ms7ms")
uv1_scale = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="StandardMaterial3D" id="10"]
albedo_color = Color(0.7024525, 0.7030481, 0.60032374, 1)
albedo_texture = ExtResource("2_ms7ms")
uv1_scale = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="Curve" id="Curve_ms7ms"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_0c8yo"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_8y21c"]
size = Vector3(10, 5, 12)

[sub_resource type="BoxShape3D" id="11"]
size = Vector3(1, 0.8, 0.7)

[sub_resource type="StandardMaterial3D" id="13"]
albedo_color = Color(0.7, 0.5, 0.2, 1)
albedo_texture = ExtResource("2_ms7ms")
uv1_scale = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="BoxMesh" id="12"]
size = Vector3(1, 0.8, 0.7)

[sub_resource type="StyleBoxFlat" id="14"]
content_margin_left = 10.0
content_margin_top = 8.0
content_margin_right = 10.0
content_margin_bottom = 8.0
bg_color = Color(0, 0, 0, 0.6)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[node name="DemoScene" type="Node3D" unique_id=43422542]
script = ExtResource("1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1391113257]
environment = SubResource("3")
camera_attributes = SubResource("CameraAttributesPhysical_0c8yo")

[node name="Sun" type="DirectionalLight3D" parent="." unique_id=800548187]
transform = Transform3D(0.86601907, -0.3535631, 0.3535593, 0, 0.70710295, 0.7071106, -0.500011, -0.61237127, 0.61236465, 0, 10, 0)
light_color = Color(1, 0.95, 0.85, 1)
light_energy = 2.0
shadow_enabled = true

[node name="NavRegion" type="NavigationRegion3D" parent="." unique_id=2081890014]
navigation_mesh = SubResource("4")

[node name="Ground" type="CSGBox3D" parent="NavRegion" unique_id=1429176654]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.002963066, -0.5, 0.0075206757)
use_collision = true
size = Vector3(60, 1, 60)
material = SubResource("5")

[node name="WallNorth" type="CSGBox3D" parent="NavRegion" unique_id=1019649164]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -30)
use_collision = true
size = Vector3(60, 4, 1)
material = SubResource("6")

[node name="WallSouth" type="CSGBox3D" parent="NavRegion" unique_id=1746034985]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 30)
use_collision = true
size = Vector3(60, 4, 1)
material = SubResource("6")

[node name="WallEast" type="CSGBox3D" parent="NavRegion" unique_id=1334876684]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30, 2, 0)
use_collision = true
size = Vector3(1, 4, 60)
material = SubResource("6")

[node name="WallWest" type="CSGBox3D" parent="NavRegion" unique_id=2092058565]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30, 2, 0)
use_collision = true
size = Vector3(1, 4, 60)
material = SubResource("6")

[node name="Cover1" type="CSGBox3D" parent="NavRegion" unique_id=893546265]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0.75, -5)
use_collision = true
size = Vector3(3, 1.5, 1)
material = SubResource("7")

[node name="Cover2" type="CSGBox3D" parent="NavRegion" unique_id=1513251526]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0.75, 3)
use_collision = true
size = Vector3(1, 1.5, 4)
material = SubResource("7")

[node name="Cover3" type="CSGBox3D" parent="NavRegion" unique_id=969335882]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 8)
use_collision = true
size = Vector3(2, 1, 2)
material = SubResource("7")

[node name="Ramp" type="CSGBox3D" parent="NavRegion" unique_id=2075776255]
transform = Transform3D(1, 0, 0, 0, 0.966, 0.259, 0, -0.259, 0.966, 10, 0.8, -10)
use_collision = true
size = Vector3(4, 0.3, 6)
material = SubResource("7")

[node name="Platform" type="CSGBox3D" parent="NavRegion" unique_id=1650752543]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 1, -14)
use_collision = true
size = Vector3(6, 2, 4)
material = SubResource("7")

[node name="CorridorWallN" type="CSGBox3D" parent="NavRegion" unique_id=1412086920]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 1.5, -17.75)
use_collision = true
size = Vector3(16, 3, 0.5)
material = SubResource("8")

[node name="CorridorWallS" type="CSGBox3D" parent="NavRegion" unique_id=780594501]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 1.5, -22.25)
use_collision = true
size = Vector3(16, 3, 0.5)
material = SubResource("8")

[node name="TDRoomWallW" type="CSGBox3D" parent="NavRegion" unique_id=27293507]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.75, 1.5, -20)
use_collision = true
size = Vector3(0.5, 3, 12)
material = SubResource("9")

[node name="TDRoomWallE" type="CSGBox3D" parent="NavRegion" unique_id=16038338]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.25, 1.5, -20)
use_collision = true
size = Vector3(0.5, 3, 12)
material = SubResource("9")

[node name="TDRoomWallN" type="CSGBox3D" parent="NavRegion" unique_id=1254837215]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22, 1.5, -26.25)
use_collision = true
size = Vector3(11, 3, 0.5)
material = SubResource("9")

[node name="TDRoomWallS1" type="CSGBox3D" parent="NavRegion" unique_id=1741032802]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.5, 1.5, -13.75)
use_collision = true
size = Vector3(4, 3, 0.5)
material = SubResource("9")

[node name="TDRoomWallS2" type="CSGBox3D" parent="NavRegion" unique_id=1516284732]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.5, 1.5, -13.75)
use_collision = true
size = Vector3(4, 3, 0.5)
material = SubResource("9")

[node name="FPRoomWallW" type="CSGBox3D" parent="NavRegion" unique_id=613314773]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -26.75, 1.5, 15)
use_collision = true
size = Vector3(0.5, 3, 8)
material = SubResource("10")

[node name="FPRoomWallE" type="CSGBox3D" parent="NavRegion" unique_id=2090042122]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.25, 1.5, 15)
use_collision = true
size = Vector3(0.5, 3, 8)
material = SubResource("10")

[node name="FPRoomWallN" type="CSGBox3D" parent="NavRegion" unique_id=1698965043]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23, 1.5, 10.75)
use_collision = true
size = Vector3(8, 3, 0.5)
material = SubResource("10")

[node name="FPRoomWallS1" type="CSGBox3D" parent="NavRegion" unique_id=1388611116]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.25, 1.5, 19.25)
use_collision = true
size = Vector3(2.5, 3, 0.5)
material = SubResource("10")

[node name="FPRoomWallS2" type="CSGBox3D" parent="NavRegion" unique_id=1510068621]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.75, 1.5, 19.25)
use_collision = true
size = Vector3(2.5, 3, 0.5)
material = SubResource("10")

[node name="Player" parent="." unique_id=1004271132 instance=ExtResource("2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 5)

[node name="CameraSystem" parent="." unique_id=1562357881 node_paths=PackedStringArray("target", "player_controller") instance=ExtResource("3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.7865705)
target = NodePath("../Player")
player_controller = NodePath("../Player/PlayerController")
auto_frame_zoom_in = 50.0
auto_frame_zoom_out = -50.0
auto_frame_speed = 1.0
idle_zoom_amount = 2.0
aim_zoom_amount = -10.0
collision_enabled = false
transition_curve_in = SubResource("Curve_ms7ms")
transition_curve_out = SubResource("Curve_0c8yo")
cursor_reenable_percent = 0.3

[node name="SideScrollerZone" parent="." unique_id=1865937893 instance=ExtResource("4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.530831, 0, -18.832752)

[node name="ZoneShape" parent="SideScrollerZone" index="0" unique_id=1910563699]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.575363, 4.3442383, -1.2077408)

[node name="ZoneCamera" parent="SideScrollerZone/CameraRig" parent_id_path=PackedInt32Array(1865937893, 1668872784) index="0" unique_id=987521082]
transform = Transform3D(-0.0036676016, -0.14185719, 0.9898589, 0, 0.9898842, 0.14185548, -0.999986, 0.00052028295, -0.0036304593, 12.277334, 3.7128317, -1.1097927)
fov = 20.0

[node name="LookAtTarget" parent="SideScrollerZone/CameraRig" parent_id_path=PackedInt32Array(1865937893, 1668872784) index="1" unique_id=328933640]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1630926, 1.4999999, -1.0531597)

[node name="TopDownZone" parent="." unique_id=1642621498 node_paths=PackedStringArray("zone_camera", "look_at_target", "look_at_marker") instance=ExtResource("5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 22, 0, -20)
collision_layer = 0
zone_priority = 1
zone_camera = NodePath("CameraRig/ZoneCamera")
camera_fov = 10.0
look_at_target = NodePath("../Player/Mesh/Body")
look_at_marker = NodePath("CameraRig/LookAtTarget")

[node name="ZoneShape" parent="TopDownZone" index="0"]
shape = SubResource("BoxShape3D_8y21c")

[node name="ZoneCamera" parent="TopDownZone/CameraRig" index="0"]
transform = Transform3D(-0.023948397, -0.73762596, 0.6747847, 0, 0.6749783, 0.73783755, -0.99971104, 0.017670065, -0.016164685, 29.553268, 32.314766, -0.7079582)
fov = 10.0

[node name="FirstPersonZone" parent="." unique_id=938536592 node_paths=PackedStringArray("zone_camera", "look_at_marker") instance=ExtResource("6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -23, 0, 15)
collision_layer = 0
zone_priority = 2
zone_camera = NodePath("CameraRig/ZoneCamera")
look_at_marker = NodePath("CameraRig/LookAtTarget")

[node name="CameraRig" parent="FirstPersonZone" index="1"]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, 0, 0)

[node name="ZoneCamera" parent="FirstPersonZone/CameraRig" index="0"]
transform = Transform3D(-1, -3.8593498e-07, 1.286445e-06, 0, 0.9578258, 0.28734884, -1.3430887e-06, 0.28734884, -0.9578258, 7.6293945e-06, 3, -4.999981)

[node name="LookAtTarget" parent="FirstPersonZone/CameraRig" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)

[node name="PatrolNPC" parent="." unique_id=728365141 instance=ExtResource("7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0.1, -5)

[node name="PatrolBehavior" type="Node" parent="PatrolNPC" unique_id=1743759798]
script = ExtResource("9")

[node name="Chest" type="StaticBody3D" parent="." unique_id=1794027331 groups=["interactable"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0.4, 0)
script = ExtResource("8")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Chest" unique_id=1911511974]
shape = SubResource("11")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Chest" unique_id=1218561323]
material_override = SubResource("13")
mesh = SubResource("12")

[node name="Label3D" type="Label3D" parent="Chest" unique_id=431662279]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
billboard = 1
modulate = Color(1, 1, 1, 0.8)
text = "Chest"
font_size = 24
outline_size = 8

[node name="Pickups" type="Node3D" parent="." unique_id=744942026]

[node name="Pistol" parent="Pickups" unique_id=1159984920 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0.5, 0)
item = ExtResource("12")

[node name="Shotgun" parent="Pickups" unique_id=990961750 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0.5, -3)
item = ExtResource("13")

[node name="Medkit" parent="Pickups" unique_id=893851889 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0.5, 3)
item = ExtResource("14")
quantity = 2
highlight_color = Color(0, 0.92941177, 0.3254902, 1)

[node name="KevlarVest" parent="Pickups" unique_id=1618478495 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0.5, 5)
item = ExtResource("15")

[node name="SecurityKeycard" parent="Pickups" unique_id=883434535 instance=ExtResource("11")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -5)
item = ExtResource("16")

[node name="DebugOverlay" type="CanvasLayer" parent="." unique_id=1861926931]
layer = 100
scale = Vector2(0.8, 0.8)
transform = Transform2D(0.8, 0, 0, 0.8, 0, 0)
script = ExtResource("10")

[node name="InstructionsLayer" type="CanvasLayer" parent="." unique_id=1549306656]
layer = 99

[node name="Instructions" type="RichTextLabel" parent="InstructionsLayer" unique_id=1351334247]
custom_minimum_size = Vector2(280, 0)
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -300.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = 400.0
grow_horizontal = 0
theme_override_font_sizes/normal_font_size = 13
theme_override_styles/normal = SubResource("14")
bbcode_enabled = true
text = "[b][color=yellow]CONTROLS[/color][/b]
[color=white]WASD[/color] — Move
[color=white]Space[/color] — Jump
[color=white]Shift[/color] — Sprint
[color=white]RMB Hold[/color] — Aim / Strafe
[color=white]LMB[/color] — Interact / Move-to
[color=white]F3[/color] — Toggle debug overlay
[color=white]Scroll[/color] — Zoom in/out

[b][color=yellow]TEST AREAS[/color][/b]
[color=cyan]Cyan[/color] — Side Scroller Zone
[color=magenta]Magenta[/color] — Top Down Zone
[color=yellow]Yellow[/color] — First Person Zone

[b][color=yellow]FEATURES[/color][/b]
• Walk into colored zones for camera transitions
• Click interactables (colored objects)
• Click ground to test move-to
• Hold RMB + move to strafe-aim
• [color=orange]Orange NPC[/color] patrols on its own
• Camera shake on landing from jumps
• Camera shifts when aiming (RMB)"
fit_content = true

[editable path="SideScrollerZone"]
[editable path="TopDownZone"]
[editable path="FirstPersonZone"]
